<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Indicaciones de viaje</title>

    <style>
      html, body, #viewDiv {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
      }
      .esri-view .esri-directions {
      position: fixed;
      right: 15px;
    }
    .esri-view .esri-component.esri-attribution {
      position: fixed;
    }
    </style>

    <link rel="stylesheet" href="https://js.arcgis.com/4.15/esri/themes/light/main.css">
    <script src="https://js.arcgis.com/4.15/"></script>

    <script>
    var view;
    require([
     "esri/Map",
     "esri/views/MapView",
      "esri/widgets/Directions"
   ], function(Map, MapView, Directions) {

     var map = new Map({
     basemap: "streets-navigation-vector"
   });

    view = new MapView({
     container: "viewDiv",
     map: map,
     center: [-2.318089999999927, 40.40001129640644], // longitude, latitude
     zoom: 6
   });

    //Crear widget de direcciones
    var directions = new Directions({
        view: view,
        //routeServiceUrl: "https://utility.arcgis.com/usrsvcs/appservices/S0U8jbvbk9zSaMaD/rest/services/World/Route/NAServer/Route_World"
        //la URL sin /solve al final. Solo necesita acceder al punto final de Route_World
      });
      view.ui.add(directions, "top-right");

 });
 </script>
  </head>

  <body>
    <div id="viewDiv"></div>
  </body>
</html>
